{"ast":null,"code":"var _jsxFileName = \"/Users/racheldi/Desktop/milkNbread/micro-chat-room/src/components/Login.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { FormGroup, Label, Input, Button, Row, Col, Alert } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { validateLogin } from \"../redux/actions\";\nimport { LOGIN_STATUS } from \"../constants\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      invalidCredentials: false,\n      // 0:'login now', 1:'login successful', 2:'login fail'\n      fbLoginStatus: 0,\n      fbLoginMessage: ''\n    };\n    this.getUserDetails = this.getUserDetails.bind(this);\n    this.onFieldChange = this.onFieldChange.bind(this);\n    this.login = this.login.bind(this);\n  }\n\n  componentDidMount() {\n    window.fbAsyncInit = function () {\n      window.FB.init({\n        appId: '2588066024852050',\n        cookie: true,\n        xfbml: true,\n        version: 'v6.0'\n      });\n      window.FB.AppEvents.logPageView();\n    };\n\n    (function (d, s, id) {\n      var js,\n          fjs = d.getElementsByTagName(s)[0];\n\n      if (d.getElementById(id)) {\n        return;\n      }\n\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n      fjs.parentNode.insertBefore(js, fjs);\n    })(document, 'script', 'facebook-jssdk');\n  }\n\n  onFieldChange(event) {\n    this.setState({\n      [event.target.id]: event.target.value,\n      invalidCredentials: false\n    });\n  }\n\n  login() {\n    this.props.validateLogin(this.state.username, this.state.password);\n  }\n\n  getUserDetails() {\n    console.log('button clicked');\n    let login_status = false;\n    let user_name = '';\n    window.FB.login(function (response) {\n      if (response.authResponse) {\n        console.log('Welcome!  Fetching your information.... ');\n        window.FB.api('/me', function (response) {\n          console.log(response);\n          console.log('Good to see you, ' + response.name + '.');\n        });\n        this.setState({\n          fbLoginStatus: 1,\n          fbLoginMessage: 'Good to see you, ' + response.name + '.'\n        });\n        login_status = true;\n        user_name = response.name;\n      } else {\n        console.log('User cancelled login or did not fully authorize.');\n        this.setState({\n          fbLoginStatus: 2,\n          fbLoginMessage: 'User cancelled login or did not fully authorize.'\n        });\n      }\n    }.bind(this));\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.props.status === LOGIN_STATUS.INVALID || this.props.status === LOGIN_STATUS.ERROR ? React.createElement(Alert, {\n      color: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.props.status === LOGIN_STATUS.INVALID ? \"Invalid username or password! Please try again.\" : \"\", this.props.status === LOGIN_STATUS.ERROR ? \"Error connecting to database!\" : \"\") : \"\", React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Username:\"), React.createElement(Input, {\n      type: \"text\",\n      id: \"username\",\n      value: this.state.username,\n      onChange: this.onFieldChange,\n      autoCorrect: false,\n      autoCapitalize: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(Input, {\n      type: \"password\",\n      id: \"password\",\n      value: this.state.password,\n      onChange: this.onFieldChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.login,\n      variant: 'secondary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Login\"))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.getUserDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Facebook Login Button\")), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, this.state.fbLoginMessage));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  const status = state.login.status;\n  return {\n    status\n  };\n};\n\nexport default connect(mapStateToProps, {\n  validateLogin\n})(Login);","map":{"version":3,"sources":["/Users/racheldi/Desktop/milkNbread/micro-chat-room/src/components/Login.js"],"names":["React","Component","Fragment","FormGroup","Label","Input","Button","Row","Col","Alert","connect","validateLogin","LOGIN_STATUS","Login","constructor","props","state","username","password","invalidCredentials","fbLoginStatus","fbLoginMessage","getUserDetails","bind","onFieldChange","login","componentDidMount","window","fbAsyncInit","FB","init","appId","cookie","xfbml","version","AppEvents","logPageView","d","s","id","js","fjs","getElementsByTagName","getElementById","createElement","src","parentNode","insertBefore","document","event","setState","target","value","console","log","login_status","user_name","response","authResponse","api","name","render","status","INVALID","ERROR","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { FormGroup, Label, Input, Button, Row, Col, Alert } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { validateLogin } from \"../redux/actions\";\nimport { LOGIN_STATUS } from \"../constants\";\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: \"\",\n            password: \"\",\n            invalidCredentials: false,\n            // 0:'login now', 1:'login successful', 2:'login fail'\n            fbLoginStatus:0,\n            fbLoginMessage:''\n        }\nthis.getUserDetails = this.getUserDetails.bind(this);\n\n        this.onFieldChange = this.onFieldChange.bind(this);\n        this.login = this.login.bind(this);\n       \n    }\n\n    componentDidMount(){\n        window.fbAsyncInit = function() {\n            window.FB.init({\n              appId      : '2588066024852050',\n              cookie     : true,\n              xfbml      : true,\n              version    : 'v6.0'\n            });\n              \n            window.FB.AppEvents.logPageView();   \n        };\n          (function(d, s, id){\n     var js, fjs = d.getElementsByTagName(s)[0];\n     if (d.getElementById(id)) {return;}\n     js = d.createElement(s); js.id = id;\n     js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n     fjs.parentNode.insertBefore(js, fjs);\n   }(document, 'script', 'facebook-jssdk'));\n          \n    }\n\n    onFieldChange(event) {\n        this.setState({\n            [event.target.id]: event.target.value,\n            invalidCredentials: false\n        });\n    }\n\n    login() {\n        this.props.validateLogin(this.state.username, this.state.password);\n\n    }\n\n    getUserDetails (){\n        console.log('button clicked');\n        let login_status=false;\n        let user_name='';\n        window.FB.login(function(response) {\n            if (response.authResponse) {\n             console.log('Welcome!  Fetching your information.... ');\n             \n             window.FB.api('/me', function(response) {\n                console.log(response)\n               console.log('Good to see you, ' + response.name + '.');\n             });\n             this.setState({fbLoginStatus: 1, fbLoginMessage:'Good to see you, ' + response.name + '.'});\n           login_status=true;\n           user_name=response.name;\n            } else {\n             console.log('User cancelled login or did not fully authorize.');\n            this.setState({fbLoginStatus: 2, fbLoginMessage: 'User cancelled login or did not fully authorize.'});\n            }\n        }.bind(this));\n\n    }\n\n  \n\n\n    render() {\n        return (\n            <Fragment>\n                {\n                    this.props.status === LOGIN_STATUS.INVALID || this.props.status === LOGIN_STATUS.ERROR ?\n                        <Alert color=\"danger\">\n                            {\n                                this.props.status === LOGIN_STATUS.INVALID ? \"Invalid username or password! Please try again.\" : \"\"\n                            }\n                            {\n                                this.props.status === LOGIN_STATUS.ERROR ? \"Error connecting to database!\" : \"\"\n                            }\n                        </Alert> : \"\"\n                }\n                <FormGroup row>\n                    <Col>\n                        <Label for=\"username\">Username:</Label>\n                        <Input type=\"text\" id=\"username\"\n                            value={this.state.username}\n                            onChange={this.onFieldChange}\n                            autoCorrect={false}\n                            autoCapitalize={false} />\n                    </Col>\n                </FormGroup>\n                <FormGroup row>\n                    <Col>\n                        <Label for=\"password\">Password:</Label>\n                        <Input type=\"password\" id=\"password\"\n                            value={this.state.password}\n                            onChange={this.onFieldChange} />\n                    </Col>\n                </FormGroup>\n                <Row>\n                    <Col className=\"text-right\">\n                        <Button onClick={this.login} variant={'secondary'}>Login</Button>\n                    </Col>\n                </Row>\n                <Row>\n                  <button onClick={this.getUserDetails}>\n                    Facebook Login Button\n                </button>\n                </Row>\n                <Row>\n                {this.state.fbLoginMessage}\n                </Row>\n            </Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const status = state.login.status;\n    return { status }\n}\n\nexport default connect(mapStateToProps, { validateLogin })(Login);\n"]},"metadata":{},"sourceType":"module"}